# Server
server.port=8078

# Application
spring.application.name=apiGateway

# Exclude Spring Cloud auto-configs incompatible with Boot 4 / reactive Gateway (MVC, JPA, or servlet APIs)
spring.autoconfigure.exclude=org.springframework.cloud.autoconfigure.LifecycleMvcEndpointAutoConfiguration,org.springframework.cloud.autoconfigure.RefreshAutoConfiguration,org.springframework.cloud.client.discovery.simple.SimpleDiscoveryClientAutoConfiguration,org.springframework.cloud.client.discovery.simple.reactive.SimpleReactiveDiscoveryClientAutoConfiguration

# ========== Eureka Client ==========
eureka.client.service-url.defaultZone=http://localhost:8420/eureka
eureka.client.register-with-eureka=true

# ========== Gateway ==========
# Routes are defined in application.yml (lb:// targets resolved via Eureka).

# ========== Security + Keycloak (OAuth2 Resource Server) ==========
# Must match the Keycloak server URL used by keycloak-auth (see KeyCloak/application.properties keycloak.auth-server-url).
# Tokens are issued by Keycloak at this URL; Gateway fetches JWKS from here to validate.
spring.security.oauth2.resourceserver.jwt.issuer-uri=${KEYCLOAK_ISSUER_URI:http://localhost:8080/realms/smart-freelance}

# ========== Actuator ==========
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
